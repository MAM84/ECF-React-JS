{"ast":null,"code":"function sendSearch(selectValue, searchValue, offset, addResponse) {\n  const request = new XMLHttpRequest();\n\n  if (selectValue === \"everything\") {\n    request.open(\"GET\", 'https://musicbrainz.org/ws/2/recording?query=\"' + searchValue + '\"&fmt=json&limit=100&offset=' + offset, true);\n  } else {\n    request.open(\"GET\", 'https://musicbrainz.org/ws/2/recording?query=' + selectValue + ':\"' + searchValue + '\"&fmt=json&limit=100&offset=' + offset, true);\n  }\n\n  request.addEventListener(\"readystatechange\", function () {\n    if (request.readyState === XMLHttpRequest.DONE && request.status === 200) {\n      const response = JSON.parse(request.responseText);\n      addResponse(response);\n    }\n  });\n  request.send();\n}\n\nfunction sendSearchDetails(idRecording, addDetails) {\n  const request = new XMLHttpRequest();\n  request.open(\"GET\", 'https://musicbrainz.org/ws/2/recording/' + idRecording + '?inc=ratings+genres+releases+artists&fmt=json', true);\n  request.addEventListener(\"readystatechange\", function () {\n    if (request.readyState === XMLHttpRequest.DONE && request.status === 200) {\n      var _response$artistCred, _response$releases, _response$rating;\n\n      const response = JSON.parse(request.responseText); // addDetails(response);\n\n      console.log(response === null || response === void 0 ? void 0 : response.title);\n      console.log((_response$artistCred = response[\"artist-credit\"]) === null || _response$artistCred === void 0 ? void 0 : _response$artistCred[0].name);\n      console.log((_response$releases = response[\"releases\"]) === null || _response$releases === void 0 ? void 0 : _response$releases[0].title);\n      console.log(response === null || response === void 0 ? void 0 : response.genres);\n      console.log(response === null || response === void 0 ? void 0 : response.length);\n      console.log((_response$rating = response[\"rating\"]) === null || _response$rating === void 0 ? void 0 : _response$rating.value);\n    }\n  });\n  request.send();\n}\n\nfunction sendSearchCover(idRelease, addCover) {\n  const request = new XMLHttpRequest();\n  request.open(\"GET\", 'https://coverartarchive.org/release/' + idRelease, true);\n  request.addEventListener(\"readystatechange\", function () {\n    if (request.readyState === XMLHttpRequest.DONE && request.status === 200) {\n      const response = JSON.parse(request.responseText);\n      addCover(response);\n    }\n  });\n  request.send();\n}\n\nexport { sendSearch, sendSearchDetails, sendSearchCover };","map":{"version":3,"sources":["/Users/marionmetais/Documents/Exercices/React JS/Projets/ecf/src/api/musicBrainzAPI.js"],"names":["sendSearch","selectValue","searchValue","offset","addResponse","request","XMLHttpRequest","open","addEventListener","readyState","DONE","status","response","JSON","parse","responseText","send","sendSearchDetails","idRecording","addDetails","console","log","title","name","genres","length","value","sendSearchCover","idRelease","addCover"],"mappings":"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","sourcesContent":["function sendSearch(selectValue, searchValue, offset, addResponse){\n    const request = new XMLHttpRequest();\n    if(selectValue === \"everything\"){\n        request.open(\"GET\", 'https://musicbrainz.org/ws/2/recording?query=\"' + searchValue +'\"&fmt=json&limit=100&offset=' + offset, true);\n    }else{\n        request.open(\"GET\", 'https://musicbrainz.org/ws/2/recording?query=' + selectValue + ':\"' + searchValue +'\"&fmt=json&limit=100&offset=' + offset, true);\n    }\n    request.addEventListener(\"readystatechange\",function(){\n        if(request.readyState === XMLHttpRequest.DONE && request.status === 200){\n            const response = JSON.parse(request.responseText);\n            addResponse(response);\n        }\n    });\n    request.send();\n}\n\nfunction sendSearchDetails(idRecording, addDetails){\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", 'https://musicbrainz.org/ws/2/recording/' + idRecording + '?inc=ratings+genres+releases+artists&fmt=json', true);\n    request.addEventListener(\"readystatechange\",function(){\n        if(request.readyState === XMLHttpRequest.DONE && request.status === 200){\n            const response = JSON.parse(request.responseText);\n            // addDetails(response);\n            console.log(response?.title);\n            console.log(response[\"artist-credit\"]?.[0].name);\n            console.log(response[\"releases\"]?.[0].title);\n            console.log(response?.genres);\n            console.log(response?.length);\n            console.log(response[\"rating\"]?.value);\n\n        }\n    });\n    request.send();\n}\n\nfunction sendSearchCover(idRelease, addCover){\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", 'https://coverartarchive.org/release/' + idRelease, true);\n    request.addEventListener(\"readystatechange\",function(){\n        if(request.readyState === XMLHttpRequest.DONE && request.status === 200){\n            const response = JSON.parse(request.responseText);\n            addCover(response);\n        }\n    });\n    request.send();\n}\n\nexport {sendSearch, sendSearchDetails, sendSearchCover};\n"]},"metadata":{},"sourceType":"module"}